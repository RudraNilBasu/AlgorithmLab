LXI H,8000
MVI M,5
INX H
MVI M,2
DCX H
// COPY FIRST NUMBER ON A AND D
MOV A,M
MOV D,M

INX H
// COPY SECOND NUMBER ON B AND E
MOV B,M
MOV E,M

L1:
CMP B // COMPARE A AND B
JZ L3 // IF EQUAL GOTO L3
JC L2 // IF A < B THEN SWAP A AND B
SUB B // IF A > B THEN A=A-B
JMP L1

L2: // SWAP A AND B
MOV C,B 
MOV B,A 
MOV A,C 
JMP L1

L3:
MOV C,A
MVI A,00

L4:
ADD D
DCR E
JNZ L4
MVI D,00

L5:
SUB C
INR D
JNC L5
ADD C
DCR D
MOV A,D
STA 8005
HLT
